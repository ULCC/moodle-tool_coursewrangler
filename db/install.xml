<?xml version="1.0" encoding="UTF-8" ?>
<XMLDB PATH="admin/tool/coursewrangler/db" VERSION="2020120900" COMMENT="XMLDB file for Moodle tool/coursewrangler"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../lib/xmldb/xmldb.xsd">
  <TABLES>
    <TABLE NAME="tool_coursewrangler_metrics" COMMENT="Table for course metrics generated by course wrangler tool report.">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true"/>
        <FIELD NAME="course_id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="course_module_id" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="course_shortname" TYPE="char" LENGTH="250" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="course_fullname" TYPE="char" LENGTH="250" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="course_idnumber" TYPE="char" LENGTH="250" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="course_timecreated" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="course_timemodified" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="course_startdate" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="course_enddate" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="course_visible" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="course_parents" TYPE="text" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="course_children" TYPE="text" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="course_modulescount" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="course_timeaccess" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="course_lastenrolment" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="activity_type" TYPE="char" LENGTH="50" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="activity_lastmodified" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="total_enrol_count" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="active_enrol_count" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="self_enrol_count" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="manual_enrol_count" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="meta_enrol_count" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="other_enrol_count" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="suspended_enrol_count" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="metrics_updated" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
        <KEY NAME="fk_component" TYPE="foreign" FIELDS="course_id" REFTABLE="course" REFFIELDS="id"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="uq_tool_cw_metrics_course_id" UNIQUE="true" FIELDS="course_id" COMMENT="Course ID should be unique."/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="tool_coursewrangler_score" COMMENT="The scorekeeping table.">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true"/>
        <FIELD NAME="metrics_id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="timemodified" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="raw" TYPE="float" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="rounded" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="percentage" TYPE="float" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
        <KEY NAME="fk_component" TYPE="foreign" FIELDS="metrics_id" REFTABLE="tool_coursewrangler_metrics" REFFIELDS="id"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="uq_tool_cw_score_metrics_id" UNIQUE="true" FIELDS="metrics_id" COMMENT="Metrics ID should be unique."/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="tool_coursewrangler_action" COMMENT="The action table.">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true"/>
        <FIELD NAME="action" TYPE="char" LENGTH="250" NOTNULL="true" SEQUENCE="false" COMMENT="Type of action to take."/>
        <FIELD NAME="course_id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="status" TYPE="char" LENGTH="250" NOTNULL="true" SEQUENCE="false" COMMENT="The status of the action taken."/>
        <FIELD NAME="lastupdated" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
        <KEY NAME="fk_component" TYPE="foreign" FIELDS="course_id" REFTABLE="course" REFFIELDS="id"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="uq_tool_cw_action_course_id" UNIQUE="true" FIELDS="course_id" COMMENT="Course ID should be unique."/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="tool_coursewrangler_log" COMMENT="The action table.">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true"/>
        <FIELD NAME="actor" TYPE="char" LENGTH="250" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="description" TYPE="char" LENGTH="250" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="timestamp" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="metrics_id" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
        <KEY NAME="fk_component" TYPE="foreign" FIELDS="metrics_id" REFTABLE="tool_coursewrangler_metrics" REFFIELDS="id"/>
      </KEYS>
    </TABLE>
  </TABLES>
</XMLDB>
