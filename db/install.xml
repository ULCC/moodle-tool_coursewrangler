<?xml version="1.0" encoding="UTF-8" ?>
<XMLDB PATH="admin/tool/coursewrangler/db" VERSION="2020120900" COMMENT="XMLDB file for Moodle tool/coursewrangler"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../lib/xmldb/xmldb.xsd">
  <TABLES>
    <TABLE NAME="tool_coursewrangler_metrics" COMMENT="Table for course metrics generated by course wrangler tool report.">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true"/>
        <FIELD NAME="courseid" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="coursemoduleid" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="courseshortname" TYPE="char" LENGTH="250" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="coursefullname" TYPE="char" LENGTH="250" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="courseidnumber" TYPE="char" LENGTH="250" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="coursetimecreated" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="coursetimemodified" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="coursestartdate" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="courseenddate" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="coursevisible" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="courseparents" TYPE="text" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="coursechildren" TYPE="text" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="coursemodulescount" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="coursetimeaccess" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="courselastenrolment" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="activitytype" TYPE="char" LENGTH="50" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="activitylastmodified" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="totalenrolcount" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="activeenrolcount" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="selfenrolcount" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="manualenrolcount" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="metaenrolcount" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="otherenrolcount" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="suspendedenrolcount" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="metricsupdated" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
        <KEY NAME="fk_component" TYPE="foreign" FIELDS="courseid" REFTABLE="course" REFFIELDS="id"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="uq_tool_cw_metrics_courseid" UNIQUE="true" FIELDS="courseid" COMMENT="Course ID should be unique."/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="tool_coursewrangler_score" COMMENT="The scorekeeping table.">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true"/>
        <FIELD NAME="metrics_id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="timemodified" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="raw" TYPE="float" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="rounded" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="percentage" TYPE="float" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
        <KEY NAME="fk_component" TYPE="foreign" FIELDS="metrics_id" REFTABLE="tool_coursewrangler_metrics" REFFIELDS="id"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="uq_tool_cw_score_metrics_id" UNIQUE="true" FIELDS="metrics_id" COMMENT="Metrics ID should be unique."/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="tool_coursewrangler_action" COMMENT="The action table.">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true"/>
        <FIELD NAME="action" TYPE="char" LENGTH="250" NOTNULL="true" SEQUENCE="false" COMMENT="Type of action to take."/>
        <FIELD NAME="courseid" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="status" TYPE="char" LENGTH="250" NOTNULL="true" SEQUENCE="false" COMMENT="The status of the action taken."/>
        <FIELD NAME="lastupdated" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
        <KEY NAME="fk_component" TYPE="foreign" FIELDS="courseid" REFTABLE="course" REFFIELDS="id"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="uq_tool_cw_action_courseid" UNIQUE="true" FIELDS="courseid" COMMENT="Course ID should be unique."/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="tool_coursewrangler_log" COMMENT="The action table.">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true"/>
        <FIELD NAME="actor" TYPE="char" LENGTH="250" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="description" TYPE="char" LENGTH="1333" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="timestamp" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="."/>
        <FIELD NAME="metrics_id" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="."/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
        <KEY NAME="fk_component" TYPE="foreign" FIELDS="metrics_id" REFTABLE="tool_coursewrangler_metrics" REFFIELDS="id"/>
      </KEYS>
    </TABLE>
  </TABLES>
</XMLDB>
